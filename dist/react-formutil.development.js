!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";(function(e){n.d(t,"g",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"c",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"h",function(){return v}),n.d(t,"l",function(){return y}),n.d(t,"a",function(){return b}),n.d(t,"k",function(){return O}),n.d(t,"j",function(){return j}),n.d(t,"n",function(){return _}),n.d(t,"i",function(){return w});var r=n(3),o=n.n(r),i=Object.getPrototypeOf({}),a=/\s*(?:\]\s*\.|\]\s*\[|\.|\[|\])\s*/g,u=s(window)?e:window;function s(e){return void 0===e}function c(e){return"function"==typeof e}function l(e){return s(e)||null===e||e+""==""}function f(e){return!!e&&c(e.then)}function $(e){return!!function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)&&(null===Object.getPrototypeOf(e)||!!c(e.constructor)&&e.constructor.prototype===i)}function d(e){if(e&&"object"==typeof e){if(Array.isArray(e)){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=d(e[n]);return t}if($(e)){var o={};for(var i in e)o[i]=d(e[i]);return o}}return e}var p=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return c(e)&&e.apply(void 0,n),n[0]};function h(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(n[0])?e.apply(void 0,n):function(t){return e(t,n[0])}}}var m=["minlength","maxlength","max","min","required","pattern","step"];function v(e){return m.indexOf(e.toLowerCase())>-1}var g=function(e){try{return new Function("origin","global","return typeof ".concat(e," === 'number' || (typeof ").concat(e," !== 'undefined' && !(origin in global)) ? ").concat(e," : origin"))(e,u)}catch(t){return e}},y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],u=t[2];o()("string"==typeof i,"The second parameter(".concat(JSON.stringify(i),") of parsePath() must be a string."));var c=(i.match(a)||[]).map(function(e){return e.replace(/\s/g,"")}),l=i.split(a).map(function(e){return e.trim()}).filter(function(e){return""!==e}),f=r;try{if(t.length<3)for(var $=0,d=l.length;$<d;$++){var p=g(l[$]);if($+1===d)return f[p];if(s(f[p]))break;f=f[p]}else for(var h=0,m=l.length;h<m;h++){var v=g(l[h]),y=l[h+1],b=c[h];if(s(y)){f[v]=u;break}switch(b){case"].":case".":f=s(f[v])?f[v]={}:f[v];break;case"][":case"[":var O=g(y);f=s(f[v])?f[v]="number"==typeof O&&O>=0?[]:{}:f[v];break;default:f[v]=u}}}catch(e){o()(!1,"The name '%s' of Field seems is not a legal expression.",i)}if(t.length>2)return r},b=function(e,t){for(var n=0,r=e.length;n<r;n++)if(!0===t(e[n]))return e[n]},O=function(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=t(e[r],r,e),n},{})},j=function(e,t){return Object.keys(e).forEach(function(n){return t(e[n],n,e)})},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(){return t.apply(void 0,arguments),arguments.length<=0?void 0:arguments[0]},n)},w=function(e,t){s(y(e,t))||(y(e,t,void 0),function e(t,n,r){j(t,function(n,r){void 0===n?delete t[r]:n&&"object"==typeof n&&e(n,r,t)}),r&&Object.keys(t).every(function(e){return void 0===t[e]})&&(r[n]=void 0,e(r))}(e))}}).call(this,n(7))},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("react")},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=n(12),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||o}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,$=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var o=d(n);o&&o!==p&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(t),h=s(n),m=0;m<a.length;++m){var v=a[m];if(!(i[v]||r&&r[v]||h&&h[v]||u&&u[v])){var g=$(n,v);try{c(t,v,g)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2)),o=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},function(e,t,n){"use strict";var r=Array.isArray,o=Object.keys,i=Object.prototype.hasOwnProperty,a="undefined"!=typeof Element;e.exports=function(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var u,s,c,l=r(t),f=r(n);if(l&&f){if((s=t.length)!=n.length)return!1;for(u=s;0!=u--;)if(!e(t[u],n[u]))return!1;return!0}if(l!=f)return!1;var $=t instanceof Date,d=n instanceof Date;if($!=d)return!1;if($&&d)return t.getTime()==n.getTime();var p=t instanceof RegExp,h=n instanceof RegExp;if(p!=h)return!1;if(p&&h)return t.toString()==n.toString();var m=o(t);if((s=m.length)!==o(n).length)return!1;for(u=s;0!=u--;)if(!i.call(n,m[u]))return!1;if(a&&t instanceof Element&&n instanceof Element)return t===n;for(u=s;0!=u--;)if(!("_owner"===(c=m[u])&&t.$$typeof||e(t[c],n[c])))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2),o=(a(r),a(n(1))),i=a(n(9));a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;t.default=function(e,t){var n,a,f="__create-react-context-"+(0,i.default)()+"__",$=function(e){function n(){var t,r,o,i;u(this,n);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return t=r=s(this,e.call.apply(e,[this].concat(c))),r.emitter=(o=r.props.value,i=[],{on:function(e){i.push(e)},off:function(e){i=i.filter(function(t){return t!==e})},get:function(){return o},set:function(e,t){o=e,i.forEach(function(e){return e(o,t)})}}),s(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)?o=0:(o="function"==typeof t?t(n,r):l,0!=(o|=0)&&this.emitter.set(e.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(r.Component);$.childContextTypes=((n={})[f]=o.default.object.isRequired,n);var d=function(t){function n(){var e,r;u(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=s(this,t.call.apply(t,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},s(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?l:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?l:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((a={})[f]=o.default.object,a),{Provider:$,Consumer:d}},e.exports=t.default},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(7))},function(e,t,n){"use strict";var r=n(11);e.exports=r},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";e.exports=n(13)},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,$=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case $:case a:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case c:return e;default:return t}}case m:case h:case i:return t}}}function g(e){return v(e)===$}t.typeOf=v,t.AsyncMode=f,t.ConcurrentMode=$,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=h,t.Portal=i,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===$||e===s||e===u||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d)},t.isAsyncMode=function(e){return g(e)||v(e)===f},t.isConcurrentMode=g,t.isContextConsumer=function(e){return v(e)===l},t.isContextProvider=function(e){return v(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===d},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===m},t.isMemo=function(e){return v(e)===h},t.isPortal=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===s},t.isStrictMode=function(e){return v(e)===u},t.isSuspense=function(e){return v(e)===p}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f="function"==typeof Symbol&&"symbol"===l(Symbol.iterator)?function(e){return l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":l(e)})(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?$(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}n.r(t);var v,g,y=n(2),b=n.n(y),O=n(1),j=n.n(O),_=n(5),w=n.n(_),C=w()({}),F=n(0),V=n(3),S=n.n(V),P="FORM_VALIDATE_RESULT";"function"==typeof requestAnimationFrame?(v=requestAnimationFrame,g=cancelAnimationFrame):(v=setTimeout,g=clearTimeout);var E=function(e){function t(e){var n;return u(this,t),(n=d(this,p(t).call(this,e))).$$registers={},n.$$deepRegisters={},n.$$regDuplications={},n.$$checkDuplication=function(){var e,t=$($(n)).$$regDuplications;F.j(t,function(n,r){var o=a(n,2),i=o[0],u=o[1];S()(i.$$reserved,"The Field with a name '".concat(r,"' has been registered!")),u.$$reset(i.$getState()),e=delete t[r]}),e&&n.$render()},n.$$register=function(e,t,r){if(n.$$unregister(r,t),e){var o=n.$$getRegister(e);o?(g(n.$$duplicateTimer),n.$$regDuplications[e]=[o,t],n.$$duplicateTimer=v(n.$$checkDuplication)):(n.$$fieldChangedQueue.push({name:e,$newValue:t.$getState().$value}),F.i(n.$$defaultValues,e)),n.$$registers[t.$name=e]=t,n.createDeepRegisters(),n.$render()}},n.$$unregister=function(e,t,r){if(e){if(e in n.$$regDuplications){var o=a(n.$$regDuplications[e],2),i=o[0],u=o[1];n.$$fieldChangedQueue.push({name:e,$newValue:u.$getState().$value,$prevValue:i.$getState().$value}),delete n.$$regDuplications[e]}else n.$$registers[e]===t&&(r?t.$$reserved=!0:(delete n.$$registers[e],n.$$fieldChangedQueue.push({name:e,$prevValue:t.$getState().$value}),F.i(n.$$defaultValues,e)));n.createDeepRegisters(),n.$render()}},n.$$defaultInitialize=function(){var e=n.props,t=e.$defaultValues,r=e.$defaultStates;n.$$defaultValues=n.$$deepParseObject(F.c(F.e(t)?t(n.props)||{}:t)),n.$$defaultStates=n.$$deepParseObject(F.c(F.e(r)?r(n.props)||{}:r))},n.$$getDefault=function(){return{$$defaultStates:n.$$defaultStates,$$defaultValues:n.$$defaultValues}},n.$$fieldChangedQueue=[],n.$$triggerFormChange=function(){if(n.$$fieldChangedQueue.length){var e=i(n.$$fieldChangedQueue);n.$$fieldChangedQueue.length=0;var t={},r={},o=n.$$registers,a=!1;e.forEach(function(e){if(e.name in o||delete e.$newValue,e.$newValue!==e.$prevValue){if("$newValue"in e&&"$prevValue"in e){var i=n.$$getRegister(e.name);i&&i.$$triggerChange(e)}"$newValue"in e&&F.l(t,e.name,e.$newValue),"$prevValue"in e&&F.l(r,e.name,e.$prevValue),a=!0}}),a&&(F.e(n.props.$validator)&&n.$$formValidate(),F.e(n.props.$onFormChange)&&n.props.$onFormChange(n.$formutil,t,r))}},n.createDeepRegisters=function(){return n.$$deepRegisters=n.$$deepParseObject(n.$$registers)},n.$$getRegister=function(e){if(e){var t=n.$$registers[e]||F.l(n.$$deepRegisters,e);if(t)return t}},n.$$formValidate=function(e){return n.$$formValidatePromise=new Promise(function(t){var r,o,i,a,u=(0,n.props.$validator)(n.$formutil.$params,n.formtutil),s=function(n){return t(F.m(e,F.m(i,n)))};F.f(u)?(n.$$formPending||(n.$$formPending=!0,n.$render()),o=function(e){return r=e(s)},a=u.then(function(){},function(e){return e}).then(function(e){return r||(n.$shouldCancelPrevAsyncValidate=null,n.$$formPending=!1,n.$$setFormErrors(e,s))})):(n.$$formPending&&(n.$$formPending=!1),a=n.$$setFormErrors(u,s)),n.$shouldCancelPrevAsyncValidate&&n.$shouldCancelPrevAsyncValidate(function(e){return i=e,a}),n.$shouldCancelPrevAsyncValidate=o})},n.$$setFormErrors=function(e,t){return e&&(e instanceof Error||"object"!=typeof e)?(S()(!1,"The result of $validator in <Form /> should always return None(null,undefined) or an object contains error message of Field."),n.$render(t)):n.$$setStates(e||{},function(e,t){var n=t.$getState().$error,i=void 0===n?{}:n;return e?{$error:o({},i,r({},P,e))}:i[P]?(delete i[P],{$error:i}):void 0},t,!0)},n.$getField=function(e){var t=n.$$getRegister(e);if(S()(!e||t,"$getField('".concat(e,"') fail to find the matched Field. Maybe it has been unmounted.")),S()(e,"You should pass a name of the mounted Field to $getField()."),t)return t.$new()},n.$$onChange=function(e,t,o){return n.$setStates(r({},e,t),o)},n.$$setStates=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=n.$$deepParseObject(e),a=!1;return F.j(n.$$registers,function(r,u){var s=u in e?e[u]:F.l(i,u);if(!F.g(s)||o){var c=t(s,r);if(c){var l=n.$formutil.$weakParams[u],f=r.$$merge(c).$value;if(r.$$detectChange(c),"$value"in c||"$viewValue"in c){var $=F.a(n.$$fieldChangedQueue,function(e){return e.name===u});$?("$prevValue"in $||($.$prevValue=$.$newValue),$.$newValue=f):n.$$fieldChangedQueue.push({name:u,$newValue:f,$prevValue:l})}a=!0}}}),a?n.$render(r):Promise.resolve(F.m(r,n.$formutil))},n.$render=function(e){return new Promise(function(t){return n.forceUpdate(function(){return t(F.m(e,n.$formutil))})})},n.$validates=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];if(F.e(r[r.length-1])&&(e=r.pop()),r.length){!function e(t){t.forEach(function(t){if(Array.isArray(t))e(t);else{var r=n.$getField(t);r&&r.$validate()}})}(r)}else F.j(n.$$registers,function(e){return e.$validate()}),F.e(n.props.$validator)&&n.$$formValidate();return n.$onValidates(e)},n.$onValidates=function(e){var t=Object.keys(n.$$registers).map(function(e){return n.$$registers[e].$onValidate()});return t.push(n.$$formValidatePromise),Promise.all(t).then(function(){return F.m(e,n.$formutil)})},n.$validate=function(e,t){var r=n.$getField(e);return r?r.$validate(t):F.m(t)},n.$reset=function(e,t){return n.$$defaultInitialize(),F.e(e)&&(t=e,e={}),n.$$setStates(e,function(e,t){return t.$$reset(e)},t,!0)},n.$setStates=function(e,t){return n.$$setStates(e,function(e){return e},t)},n.$setValues=function(e,t){return n.$$deepParseObject(F.c(e),n.$$defaultValues),n.$$setStates(e,function(e){return{$value:e}},t)},n.$setFocuses=function(e,t){return n.$$setStates(e,function(e){return{$focused:e}},t)},n.$setDirts=function(e,t){return n.$$setStates(e,function(e){return{$dirty:e}},t)},n.$setTouches=function(e,t){return n.$$setStates(e,function(e){return{$touched:e}},t)},n.$setPendings=function(e,t){return n.$$setStates(e,function(e){return{$pending:e}},t)},n.$setErrors=function(e,t){return n.$$setStates(e,function(e){return{$error:e}},t)},n.$batchState=function(e,t){return n.$setStates(F.k(n.$$registers,function(){return e}),t)},n.$batchDirty=function(e,t){return n.$batchState({$dirty:e},t)},n.$batchTouched=function(e,t){return n.$batchState({$touched:e},t)},n.$batchFocused=function(e,t){return n.$batchState({$focused:e},t)},n.$batchPending=function(e,t){return n.$batchState({$pending:e},t)},n.$batchError=function(e,t){return n.$batchState({$error:e},t)},n.$$defaultInitialize(),n}return m(t,y["Component"]),c(t,[{key:"getFormContext",value:function(){return{$$registers:this.$$registers,$$register:this.$$register,$$unregister:this.$$unregister,$$onChange:this.$$onChange,$$getDefault:this.$$getDefault,$formutil:this.$formutil}}},{key:"$$deepParseObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return F.j(e,function(e,n){return F.l(t,n,e)}),t}},{key:"componentDidUpdate",value:function(){var e=this;g(this.$$triggerChangeTimer),this.$$triggerChangeTimer=v(function(){e.$$triggerFormChange()})}},{key:"_render",value:function(){var e=this.$formutil,t=this.props,n=t.children,r=t.render,o=t.component;return o?Object(y.createElement)(o,{$formutil:e}):F.e(r)?r(e):F.e(n)?n(e):y.Children.map(n,function(t){return t&&F.e(t.type)?Object(y.cloneElement)(t,{$formutil:e}):t})}},{key:"render",value:function(){var e=this,t=this.props.$processer,n=Object.keys(this.$$registers).map(function(t){return{path:t,$state:e.$$registers[t].$getState()}}),r=F.n(n,function(e,n){var r=n.path,o=n.$state;t&&t(o,r),"$value"in o&&(o.$dirty||!F.g(o.$value))&&(e[r]=o.$value)}),i=F.n(n,function(e,t){var n=t.path;t.$state;return n in r&&F.l(e,n,r[n])}),a=n.some(function(e){return e.$state.$invalid}),u=n.some(function(e){return e.$state.$dirty}),s=n.some(function(e){return e.$state.$touched}),c=n.some(function(e){return e.$state.$focused}),l=this.$$formPending||n.some(function(e){return e.$state.$pending}),f=this.$formutil={$$registers:o({},this.$$registers),$$deepRegisters:this.$$deepRegisters,$states:F.n(n,function(e,t){var n=t.path,r=t.$state;return F.l(e,n,r)}),$params:o({},this.$$defaultValues,i),$errors:F.n(n,function(e,t){var n=t.path,r=t.$state;r.$invalid&&F.l(e,n,r.$error)}),$dirts:F.n(n,function(e,t){var n=t.path,r=t.$state;return F.l(e,n,r.$dirty)}),$touches:F.n(n,function(e,t){var n=t.path,r=t.$state;return F.l(e,n,r.$touched)}),$focuses:F.n(n,function(e,t){var n=t.path,r=t.$state;return F.l(e,n,r.$focused)}),$pendings:F.n(n,function(e,t){var n=t.path,r=t.$state;return F.l(e,n,r.$pending)}),$weakStates:F.n(n,function(e,t){var n=t.path,r=t.$state;return e[n]=r}),$weakParams:r,$weakErrors:F.n(n,function(e,t){var n=t.path,r=t.$state;r.$invalid&&(e[n]=r.$error)}),$weakDirts:F.n(n,function(e,t){var n=t.path,r=t.$state;return e[n]=r.$dirty}),$weakTouches:F.n(n,function(e,t){var n=t.path,r=t.$state;return e[n]=r.$touched}),$weakFocuses:F.n(n,function(e,t){var n=t.path,r=t.$state;return e[n]=r.$focused}),$weakPendings:F.n(n,function(e,t){var n=t.path,r=t.$state;return e[n]=r.$pending}),$getFirstError:function(e){if(e){var t=f.$getField(e);return t&&t.$getFirstError()}for(var n in f.$weakErrors){var r=f.$weakErrors[n];for(var o in r)return r[o]instanceof Error?r[o].message:r[o]}},$render:this.$render,$getField:this.$getField,$onValidates:this.$onValidates,$new:function(){return e.$formutil},$setStates:this.$setStates,$setValues:this.$setValues,$setErrors:this.$setErrors,$setTouches:this.$setTouches,$setDirts:this.$setDirts,$setFocuses:this.$setFocuses,$batchState:this.$batchState,$batchTouched:this.$batchTouched,$batchDirty:this.$batchDirty,$batchFocused:this.$batchFocused,$reset:this.$reset,$validates:this.$validates,$validate:this.$validate,$valid:!a,$invalid:a,$dirty:u,$pristine:!u,$touched:s,$untouched:!s,$focused:c,$pending:l};return b.a.createElement(C.Provider,{value:this.getFormContext(),__source:{fileName:"/Users/qiqiboy/develop/react-formutil/src/Form.js",lineNumber:668},__self:this},this._render())}}]),t}();E.displayName="React.Formutil.Form",E.propTypes={render:j.a.func,component:j.a.func,children:function(e){var t=j.a.oneOfType([j.a.func,j.a.node]);e.render||e.component||(t=t.isRequired);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,[e].concat(r))},$defaultValues:j.a.oneOfType([j.a.object,j.a.func]),$defaultStates:j.a.oneOfType([j.a.object,j.a.func]),$onFormChange:j.a.func,$validator:j.a.func,$processer:j.a.func},E.defaultProps={$defaultValues:{},$defaultStates:{}};var k=E;function N(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=n(4),R=n.n(T),D="/Users/qiqiboy/develop/react-formutil/src/withForm.js";var A=Object(F.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(n){function r(){return u(this,r),d(this,p(r).apply(this,arguments))}return m(r,y.Component),c(r,[{key:"render",value:function(){var n=x({},this.props),r=this.props,i=(r.component,N(r,["component"]));return["$defaultStates","$defaultValues","$onFormChange","$validator","$processer"].forEach(function(e){e in n&&("$defaultStates"!==e&&"$defaultValues"!==e||(i[e]=o({},t[e],n[e])),delete n[e])}),b.a.createElement(k,Object.assign({},t,i,{render:function(t){return b.a.createElement(e,Object.assign({},n,{$formutil:t,__source:{fileName:D,lineNumber:28},__self:this}))},__source:{fileName:D,lineNumber:25},__self:this}))}}]),r}();return n.displayName="React.Formutil.withForm."+(e.displayName||e.name||"Anonymous"),R()(n,e)}),U=0,M={$valid:!0,$invalid:!1,$dirty:!1,$pristine:!0,$touched:!1,$untouched:!0,$focused:!1,$pending:!1,$error:{}};function q(e){
/*!utils.isUndefined(result) && */
return!0!==e}function I(e,t,n){S()(!F.g(e),"You should return a string or Error when the validation('".concat(n&&n+": ").concat(t,"') failed, otherwise return true."))}var L={name:j.a.string,$defaultValue:j.a.any,$defaultState:j.a.oneOfType([j.a.object,j.a.func]),$onFieldChange:j.a.func,$validators:j.a.object,$asyncValidators:j.a.object,$validateLazy:j.a.bool,$reserveOnUnmount:j.a.bool,$parser:j.a.func,$formatter:j.a.func,render:j.a.func,component:j.a.func,children:function(e){var t=j.a.oneOfType([j.a.func,j.a.node]);e.render||e.component||null===e.children||(t=t.isRequired);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,[e].concat(r))}};function B(){return U++}function H(e,t){var n;function r(t){var n,r=e.props,i=e.$formContext;if(i.$$getDefault){var a=r.name,u=i.$$getDefault(),s=u.$$defaultStates,c=u.$$defaultValues;if(a&&c){var f=F.l(c,a);n=F.l(s,a)||{},F.g(f)||(n.$value=f)}}var $=r.$defaultValue,d=r.$defaultState;return l(o({},M,F.e(d)?d(r):d,{$value:F.e($)?$(r):"$defaultValue"in r?$:""},n,t))}function i(){return o({},e.$state)}function a(t){return n=new Promise(function(n){var r,i,a,l,f=e.props,$=e.$formContext,d=o({},f.$validators,f.$asyncValidators),p=e.$state,h=p.$value,m=p.$pending,v=x({},p.$error),g=$.$formutil,y={},b=!1;delete v[P];var O=Object.keys(d).reduce(function(t,n){if(delete v[n],!b&&null!=f[n]){var i=d[n](h,f[n],o({},f,{$formutil:g,$fieldutil:e.$fieldutil,$validError:y}));F.f(i)?t.push(i.catch(function(e){r||s(n,e||n)})):q(i)&&(y[n]=i||n,I(i,n,f.name),f.$validateLazy&&(b=!0))}return t},[]),j=function(e){return n(F.m(t,F.m(a,e)))};O.length?(m||c(!0),i=function(e){return r=e(j)},O.push(u(o({},v,y))),l=Promise.all(O).then(function(){return r||(e.$shouldCancelPrevAsyncValidate=null,c(!1,j))})):(m&&c(!1),l=u(o({},v,y),j)),e.$shouldCancelPrevAsyncValidate&&e.$shouldCancelPrevAsyncValidate(function(e){return a=e,l}),e.$shouldCancelPrevAsyncValidate=i})}function u(t,n){return e.$setState({$error:t},n)}function s(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,o=x({},e.$state.$error);return q(n)?(o[t]=n||t,I(n,t,e.props.name)):delete o[t],u(o,r)}function c(t,n){return e.$setState({$pending:t},n)}function l(t){var n=x({},t);"$error"in n&&(n.$error||(n.$error={}),n.$valid=0===Object.keys(n.$error).length);var r=e.props,a=r.$parser,u=r.$formatter;if("$viewValue"in n&&!("$value"in n)){n.$value=a?a(n.$viewValue,function(e){return n.$viewValue=e}):n.$viewValue}else if("$value"in n&&!("$viewValue"in n)){n.$viewValue=u?u(n.$value,function(e){return n.$value=e}):n.$value}return"$valid"in n?n.$invalid=!n.$valid:"$invalid"in n&&(n.$dirty=!n.$invalid),"$dirty"in n?n.$pristine=!n.$dirty:"$pristine"in n&&(n.$dirty=!n.$pristine),"$touched"in n?n.$untouched=!n.$touched:"$untouched"in n&&(n.$touched=!n.$untouched),e.$state=o({},e.$state,n),i()}return{$$FIELD_UUID:e.$$FIELD_UUID,$$reset:r,$$merge:l,$$detectChange:function(e){("$value"in e||"$viewValue"in e)&&a()},$$triggerChange:function(t){var n=t.$newValue,r=t.$prevValue,o=e.props.$onFieldChange;F.e(o)&&o(n,r,e.$formContext.$formutil)},$onValidate:function(e){return n.then(e),n},$new:function(){return e.$fieldutil},$picker:i,$getState:i,$getComponent:function(){return t},$reset:function(t,n){return e.$setState(r(t),n)},$getFirstError:function(){var t=e.$state.$error,n=void 0===t?{}:t;for(var r in n)return n[r]instanceof Error?n[r].message:n[r]},$validate:a,$setState:e.$setState,$render:function(t,n){return e.$setState({$viewValue:t,$dirty:!0},n)},$setValue:function(t,n){return e.$setState({$value:t},n)},$setTouched:function(t,n){return e.$setState({$touched:t},n)},$setDirty:function(t,n){return e.$setState({$dirty:t},n)},$setFocused:function(t,n){return e.$setState({$focused:t},n)},$setValidity:s,$setError:u,$setPending:c}}var z=function(e){function t(){var e,n;u(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=d(this,(e=p(t)).call.apply(e,[this].concat(o)))).$$FIELD_UUID=B(),n.$setState=function(e,t){return new Promise(function(r){var o=function(){return r(Object(F.m)(t,n.$fieldutil))};if(n.isMounting){var i=n.props.name;i in(n.$formContext.$$registers||{})?n.$formContext.$$onChange(i,e,o):(n.$registered.$$merge(e),n.$registered.$$detectChange(e),n.forceUpdate(o))}else n.$registered.$$merge(e),o()})},n}return m(t,y["Component"]),c(t,[{key:"componentDidMount",value:function(){this.isMounting=!0;var e=this.props.name,t=this.$formContext;S()(!e||t.$formutil,"You should enusre that the <Field /> with the name '".concat(e,"' must be used underneath a <Form /> component or withForm() HOC, otherwise it's isolated.")),S()(e,"You should assign a name to <Field />, otherwise it will be isolated!"),t.$$register&&t.$$register(e,this.$fieldHandler),this.$prevValue=this.$state.$value}},{key:"componentWillUnmount",value:function(){this.$formContext.$$unregister&&this.$formContext.$$unregister(this.props.name,this.$fieldHandler,this.props.$reserveOnUnmount),this.isMounting=!1}},{key:"componentDidUpdate",value:function(e){var t=this.props.name;t!==e.name&&this.$formContext.$$register&&this.$formContext.$$register(t,this.$fieldHandler,e.name),this.$state.$value!==this.$prevValue&&(t in(this.$formContext.$$registers||{})||this.$registered.$$triggerChange({$newValue:this.$state.$value,$prevValue:this.$prevValue}),this.$prevValue=this.$state.$value)}},{key:"_render",value:function(){return function(e,t){var n=t.children,r=t.render,o=t.component;return o?Object(y.createElement)(o,{$fieldutil:e}):F.e(r)?r(e):F.e(n)?n(e):y.Children.map(n,function(t){return t&&F.e(t.type)?Object(y.cloneElement)(t,{$fieldutil:e}):t})}(this.$fieldutil=o({$name:this.props.name},this.$registered.$getState(),this.$registered,{$$formutil:this.$formContext.$formutil}),this.props)}},{key:"render",value:function(){var e=this,t=!this.$formContext;return b.a.createElement(C.Consumer,{__source:{fileName:"/Users/qiqiboy/develop/react-formutil/src/Field.js",lineNumber:106},__self:this},function(n){return e.$formContext=n,e.$fieldHandler||(e.$fieldHandler=H(e,e)),e.$registered=(n.$$registers||{})[e.$fieldHandler.$name]||e.$fieldHandler,t&&(e.$fieldHandler.$$reset(),e.$fieldHandler.$validate()),e._render()})}}]),t}();z.displayName="React.Formutil.Field",z.propTypes=L;var Y=z,G="/Users/qiqiboy/develop/react-formutil/src/withField.js";var Q=Object(F.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(n){function r(){return u(this,r),d(this,p(r).apply(this,arguments))}return m(r,y.Component),c(r,[{key:"render",value:function(){var n=x({},this.props),r=this.props,i=(r.component,N(r,["component"]));return["$validators","$asyncValidators","$validateLazy","$reserveOnUnmount","$defaultValue","$defaultState","$onFieldChange","$parser","$formatter","name"].concat(Object.keys(o({},t.$validators,t.$asyncValidators,n.$validators,n.$asyncValidators))).forEach(function(e){e in n&&("$validators"!==e&&"$asyncValidators"!==e&&"$defaultState"!==e||(i[e]=o({},t[e],n[e])),delete n[e])}),b.a.createElement(Y,Object.assign({},t,i,{render:function(t){return b.a.createElement(e,Object.assign({},n,{$fieldutil:t,__source:{fileName:G,lineNumber:48},__self:this}))},__source:{fileName:G,lineNumber:45},__self:this}))}}]),r}();return n.displayName="React.Formutil.withField."+(e.displayName||e.name||"Anonymous"),R()(n,e)}),W=function(e){function t(){return u(this,t),d(this,p(t).apply(this,arguments))}return m(t,y["Component"]),c(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.$fieldutil,t.value),r=t.onChange,o=t.onFocus,i=t.onBlur,a=t.checked,u=t.unchecked,s=N(t,["$fieldutil","value","onChange","onFocus","onBlur","checked","unchecked"]),c=this.props.type,l={value:"compositionValue"in this?this.compositionValue:n,onCompositionEnd:function(t){e.composition=!1,delete e.compositionValue,l.onChange(t)},onCompositionStart:function(){return e.composition=!0},onChange:function(t){var n=t.target.value;e.composition?(e.compositionValue=n,e.forceUpdate()):r(n,t)},onFocus:o,onBlur:i},f="input";switch(c){case"select":f=c,l.onChange=function(e){var t=e.target,n=t.multiple?[].slice.call(t.options).filter(function(e){return e.selected}).map(function(e){return e.value}):t.value;r(n,e)},delete s.type;break;case"textarea":f=c,delete s.type;break;case"checkbox":case"radio":l={checked:n===a,onChange:function(e){r(e.target.checked?a:u,e)},onFocus:o,onBlur:i}}return b.a.createElement(f,Object.assign({},s,l,{__source:{fileName:"/Users/qiqiboy/develop/react-formutil/src/EasyField/Native.js",lineNumber:93},__self:this}))}}]),t}();W.displayName="React.Formutil.EasyField.Native",W.propTypes={onChange:j.a.func,onFocus:j.a.func,onBlur:j.a.func,value:j.a.any,name:j.a.string,type:j.a.string,checked:j.a.any,unchekced:j.a.any},W.defaultProps={value:"",type:"text",checked:!0,unchecked:!1};var K=W,J="/Users/qiqiboy/develop/react-formutil/src/EasyField/Group.js",X=w()({}),Z=X.Provider,ee=X.Consumer,te=function(e){function t(){return u(this,t),d(this,p(t).apply(this,arguments))}return m(t,y["Component"]),c(t,[{key:"getGroupContext",value:function(){return this.props}},{key:"_render",value:function(){var e=this.props,t=e.className,n=e.groupNode,r=e.children,o={GroupOption:ne,Field:re},i=Object(F.e)(r)?r(o):y.Children.map(r,function(e){return Object(y.cloneElement)(e,o)});return null===n?i:b.a.createElement(n,{className:t,__source:{fileName:J,lineNumber:50},__self:this},i)}},{key:"render",value:function(){return b.a.createElement(Z,{value:this.getGroupContext(),__source:{fileName:J,lineNumber:54},__self:this},this._render())}}]),t}();te.displayName="React.Formutil.EasyField.Group",te.propTypes={onChange:j.a.func,onFocus:j.a.func,onBlur:j.a.func,value:j.a.any,name:j.a.string,type:j.a.string.isRequired,groupNode:j.a.any,children:j.a.oneOfType([j.a.func,j.a.element]).isRequired},te.defaultProps={type:"checkbox",groupNode:"div"};var ne=function(e){function t(){return u(this,t),d(this,p(t).apply(this,arguments))}return m(t,y["Component"]),c(t,[{key:"componentDidMount",value:function(){S()("$value"in this.props,"You should pass a $value to <GroupOption />.")}},{key:"render",value:function(){var e=this.props,t=e.$value,n=e.onChange,r=e.onFocus,o=e.onBlur,i=N(e,["$value","onChange","onFocus","onBlur"]);return b.a.createElement(ee,{__source:{fileName:J,lineNumber:73},__self:this},function(e){var a=e.type,u=e.name,s="radio"===a?{checked:e.value===t,onChange:function(r){e.onChange(t,r),n&&n(r)}}:"checkbox"===a?{checked:e.value.indexOf(t)>-1,onChange:function(r){e.onChange(r.target.checked?e.value.concat(t):e.value.filter(function(e){return e!==t}),r),n&&n(r)}}:{value:e.value,onChange:function(t){e.onChange(t),n&&n(t)}};return b.a.createElement("input",Object.assign({name:u},i,s,{type:a,onFocus:function(t){e.onFocus(t),r&&r(t)},onBlur:function(t){e.onBlur(t),o&&o(t)},__source:{fileName:J,lineNumber:111},__self:this}))})}}]),t}();ne.displayName="React.Formutil.EasyField.Group.Option",ne.propTypes={$value:j.a.any.isRequired};var re=function(e){function t(){return u(this,t),d(this,p(t).apply(this,arguments))}return m(t,y["Component"]),c(t,[{key:"componentDidMount",value:function(){S()(!1,'The "Field" property in EasyField\'s children-props has been deprecated. Please use "GroupOption" instead.')}},{key:"render",value:function(){return b.a.createElement(ne,Object.assign({},this.props,{__source:{fileName:J,lineNumber:143},__self:this}))}}]),t}();re.displayName="React.Formutil.EasyField.Group.Option.Deprecated";var oe=te,ie=n(6),ae=n.n(ie),ue="/Users/qiqiboy/develop/react-formutil/src/EasyField/List.js",se=function(e){function t(e){var n;return u(this,t),(n=d(this,p(t).call(this,e))).id=0,n.latestValue=n.props.value,n.FieldValidators={required:function(e){return null!==e}},n.$onFormChange=function(e){e.$onValidates(function(e){var t=e.$invalid,r=e.$params;t?n.props.value.length&&n.props.onChange(n.latestValue=[]):ae()(n.props.value,r.list)||n.props.onChange(n.latestValue=r.list)})},n.swap=function(e,t,r){return n.$setState(function(n){var r=n.items,o=[r[e],r[t]];return r[t]=o[0],r[e]=o[1],r},r)},n.insert=function(){for(var e,t,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return i.forEach(function(n){Object(F.e)(n)?r=n:"number"==typeof n?e=n:"object"==typeof n&&(t=n)}),n.$setState(function(r){var o=r.items;return Object(F.g)(e)?o.push(n.getId(t)):o.splice(e,0,n.getId(t)),{items:o}},r)},n.remove=function(){for(var e,t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.forEach(function(n){Object(F.e)(n)?t=n:"number"==typeof n&&(e=n)}),n.$setState(function(t){var r=t.items;return Object(F.g)(e)?r.pop():r.splice(e,1),r.length||(r=[n.getId()]),{items:r}},t)},n.$setState=function(e,t){return new Promise(function(r){return n.setState(e,function(){return n.$formutil.$onValidates(function(e){return r(Object(F.m)(t,e))})})})},n.state={items:e.value.length?e.value.map(function(){return n.getId()}):[n.getId()],formKey:0},n}return m(t,y["Component"]),c(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.value!==this.latestValue&&(this.setState({items:this.props.value.length?this.props.value.map(function(){return t.getId()}):[this.getId()],formKey:this.state.formKey+1}),this.latestValue=this.props.value)}},{key:"getId",value:function(e){return{id:this.id++,values:e}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.onFocus,i=t.onBlur,a=t.value;if(!Object(F.e)(n))return null;var u={$length:this.state.items.length,$insert:this.insert,$remove:this.remove,$swap:this.swap,$push:function(t,n){return e.insert(t,n)},$pop:function(t){return e.remove(t)},$shift:function(t){return e.remove(0,t)},$unshift:function(t,n){return e.insert(0,t,n)},onFocus:r,onBlur:i};return b.a.createElement(k,{key:this.state.formKey,$defaultValues:{list:a},$onFormChange:this.$onFormChange,children:function(t){return e.$formutil=t,e.state.items.map(function(r,i){var a=r.id,s=r.values;return b.a.createElement(Y,{key:a,required:!0,$defaultValue:s||null,$validators:e.FieldValidators,name:"list[".concat(i,"]"),children:function(r){return b.a.createElement(k,{$defaultValues:r.$value||{},$onFormChange:function(e){return e.$onValidates(function(e){var t=e.$invalid,n=e.$params;t?null!==r.$viewValue&&r.$render(null):ae()(r.$viewValue,n)||r.$render(n)})},children:function(r){return n(o({},u,r,{$index:i,$isLast:function(){return i===e.state.items.length-1},$isFirst:function(){return 0===i}}),t)},__source:{fileName:ue,lineNumber:174},__self:this})},__source:{fileName:ue,lineNumber:166},__self:this})})},__source:{fileName:ue,lineNumber:156},__self:this})}}]),t}();se.displayName="React.Formutil.EasyField.List",se.propTypes={onChange:j.a.func,onFocus:j.a.func,onBlur:j.a.func,value:j.a.array,children:j.a.func.isRequired};var ce=se,le="__TYPE__",fe=[["required",function(e,t,n){var r=n.__TYPE__,o=n.checked;return"checked"===r?e===(void 0===o||o):!Object(F.d)(e)}],["maxLength",function(e,t){return Object(F.d)(e)||e.length<=t}],["minLength",function(e,t){return Object(F.d)(e)||e.length>=t}],["max",function(e,t){return Object(F.d)(e)||1*e<=t}],["min",function(e,t){return Object(F.d)(e)||1*e>=t}],["pattern",function(e,t){return Object(F.d)(e)||t.test(e)}],["enum",function(e,t){return Object(F.d)(e)||t.indexOf(e)>-1}],["checker",function(e,t,n){return t(e,n)}]].reduce(function(e,t){var n=a(t,2),r=n[0],o=n[1];return e[r]=function(e,t,n){var i=n.validMessage,a=void 0===i?{}:i;return o.apply(void 0,arguments)||a[r]||"Error input: ".concat(r)},e},{}),$e={type:j.a.string,children:j.a.oneOfType([j.a.func,j.a.node]),component:j.a.func,render:j.a.func,defaultValue:j.a.any,validMessage:j.a.object,valuePropName:j.a.string,changePropName:j.a.string,focusPropName:j.a.string,blurPropName:j.a.string,passUtil:j.a.string},de={validMessage:{},valuePropName:"value",changePropName:"onChange",focusPropName:"onFocus",blurPropName:"onBlur",$parser:function(e){return"string"==typeof e?e.trim():e}};function pe(e,t,n){var a,u=t.valuePropName,s=t.changePropName,c=t.focusPropName,l=t.blurPropName,f=t.passUtil,$=o({},n,(r(a={},u,e.$viewValue),r(a,s,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=r[0],c=r[r.length-1];c=c&&c.target?[c]:r;var l=t[s];l&&l.apply(void 0,i(c));var f=function(e){return e&&e.target?e.target[u]:e}(a);e.$render(f)}),r(a,c,function(){var n=t[c];n&&n.apply(void 0,arguments),e.$setFocused(!0)}),r(a,l,function(){var n=t[l];n&&n.apply(void 0,arguments),e.$untouched&&e.$setTouched(!0),e.$setFocused(!1)}),a));return f&&($[!0===f?"$fieldutil":f]=e),$}function he(e){var t=e.children,n=e.component,r=e.render,i=N(e,["children","component","render"]),u=i.name,s=i.type,c=i.defaultValue,l=(i.valuePropName,i.changePropName,i.focusPropName,i.blurPropName,i.validMessage,i.__TYPE__,i.passUtil,i.$defaultValue,i.$defaultState,i.$onFieldChange,i.$validators,i.$asyncValidators,i.$validateLazy,i.$reserveOnUnmount,i.$parser,i.$formatter,N(i,["name","type","defaultValue","valuePropName","changePropName","focusPropName","blurPropName","validMessage","__TYPE__","passUtil","$defaultValue","$defaultState","$onFieldChange","$validators","$asyncValidators","$validateLazy","$reserveOnUnmount","$parser","$formatter"])),f={children:t,component:n,render:r},$=!Object(F.g)(s)||Object(F.g)(t)&&Object(F.g)(n)&&Object(F.g)(r);if(Object.keys(o({},i.$validators=o({},fe,i.$validators),i.$asyncValidators)).forEach(function(e){e in l&&($&&Object(F.h)(e)||delete l[e])}),$){var d=a((s||"").split("."),2),p=d[0],h=void 0===p?"text":p,m=d[1];switch(f.component="group"===h?oe:"list"===h?ce:K,u&&(l.name=u),s&&(l.type=h),t&&(l.children=t),h){case"select":case"textarea":e.multiple&&(i[le]="array");break;case"group":"checkbox"===m&&(i[le]="array"),l.type=m;break;case"checkbox":case"radio":i[le]="checked";break;case"list":i[le]="array"}}if(!("$defaultValue"in i)&&"defaultValue"in e&&(i.$defaultValue=c),!("$defaultValue"in i)&&le in i){var v;switch(i[le]){case"checked":var g=i.unchecked;v=void 0!==g&&g;break;case"array":v=[];break;case"object":v={};break;case"number":v=0}i.$defaultValue=v}return{fieldProps:i,childProps:l,renderProps:f}}var me=function(e){function t(){return u(this,t),d(this,p(t).apply(this,arguments))}return m(t,y["Component"]),c(t,[{key:"render",value:function(){var e=he(this.props),t=e.fieldProps,n=e.childProps,r=e.renderProps;return b.a.createElement(Y,Object.assign({},t,{children:function(e){return function(e,t){var n=t.component,r=t.render,o=t.children;return n?Object(y.createElement)(n,e):Object(F.e)(r)?r(e):Object(F.e)(o)?o(e):y.Children.map(o,function(t){return Object(y.cloneElement)(t,e)})}(pe(e,t,n),r)},__source:{fileName:"/Users/qiqiboy/develop/react-formutil/src/EasyField/index.js",lineNumber:21},__self:this}))}}]),t}();me.displayName="React.Formutil.EasyField",me.propTypes=$e,me.defaultProps=de;var ve=me,ge="/Users/qiqiboy/develop/react-formutil/src/connect.js";var ye=function(e){var t=function(t){function n(){return u(this,n),d(this,p(n).apply(this,arguments))}return m(n,y.Component),c(n,[{key:"render",value:function(){var t=this;return b.a.createElement(C.Consumer,{__source:{fileName:ge,lineNumber:12},__self:this},function(n){return b.a.createElement(e,Object.assign({},t.props,{$formutil:n.$formutil,__source:{fileName:ge,lineNumber:13},__self:this}))})}}]),n}();return t.displayName="React.Formutil.connect."+(e.displayName||e.name||"Anonymous"),R()(t,e)};var be=function(){return Object(y.useContext)(C)};var Oe=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&("string"==typeof e?(t=e,n.name=t):t=(n=e).name);var r=be(),u=Object(y.useRef)({}).current,s=Object(y.useRef)([]);u.$formContext=r,u.props=n,u.$setState=function(e,n){return new Promise(function(o){var i=function(){return o(Object(F.m)(n,u.$fieldutil))};u.isMounting?t in(r.$$registers||{})?r.$$onChange(t,e,i):(c(l.$$merge(e)),l.$$detectChange(e),s.current.push(i)):(l.$$merge(e),i())})};var c=a(Object(y.useState)(function(){u.$$FIELD_UUID=B(),u.$fieldHandler=H(u);var e=u.$fieldHandler.$$reset();return u.$fieldHandler.$validate(),e}),2)[1],l=(r.$$registers||{})[u.$fieldHandler.$name]||u.$fieldHandler;return Object(y.useLayoutEffect)(function(){var e=u.$state;if(u.isMounting&&!(t in(r.$$registers||{}))){var n=u.$prevValue;l.$$triggerChange({$newValue:e.$value,$prevValue:n})}u.$prevValue=e.$value},[u.$state.$value]),Object(y.useLayoutEffect)(function(){return u.isMounting=!0,S()(!t||r.$formutil,"You should enusre that the useField() with the name '".concat(t,"' must be used underneath a <Form /> component or withForm() HOC, otherwise it's isolated.")),S()(t,"You should pass a name argument to useField(), otherwise it will be isolated!"),function(){r.$$unregister&&r.$$unregister(t,u.$fieldHandler,n.$reserveOnUnmount),u.isMounting=!1}},[]),Object(y.useLayoutEffect)(function(){r.$$register&&(u.$registered=r.$$register(t,u.$fieldHandler,u.$prevName)),u.$prevName=t},[t]),Object(y.useLayoutEffect)(function(){if(s.current.length>0){var e=i(s.current);for(s.current.length=0;e.length;)e.pop()(u.$fieldutil)}}),u.$fieldutil=o({$name:t},l.$getState(),l,{$$formutil:r.$formutil})};var je=function(){return be().$formutil};var _e=function(e){var t=he(e=o({},de,e,{children:null})),n=t.fieldProps,r=t.childProps;return pe(Oe(n),n,r)};n.d(t,"Form",function(){return k}),n.d(t,"withForm",function(){return A}),n.d(t,"Field",function(){return Y}),n.d(t,"withField",function(){return Q}),n.d(t,"EasyField",function(){return ve}),n.d(t,"connect",function(){return ye}),n.d(t,"useField",function(){return Oe}),n.d(t,"useForm",function(){return je}),n.d(t,"useHandler",function(){return _e})}]));
//# sourceMappingURL=react-formutil.development.js.map